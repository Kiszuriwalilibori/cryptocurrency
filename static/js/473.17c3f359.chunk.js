"use strict";(self.webpackChunkcryptocurrency_tracker=self.webpackChunkcryptocurrency_tracker||[]).push([[473],{6628:function(n,r,e){e.d(r,{Z:function(){return a}});var t=e(184),a=function(n){var r=n.classes,e=void 0===r?"enabled":r,a=n.isEnabled,c=void 0===a||a,o=n.clickHandler,u=void 0===o?function(){}:o,i=n.label,s=void 0===i?"":i;return(0,t.jsx)("button",{className:"".concat("BlueButton"," ").concat(e),onClick:u,disabled:!c,children:s})}},9258:function(n,r,e){e.d(r,{El:function(){return t.Z},aN:function(){return l}});e(9703),e(6804);var t=e(6628),a=e(1413),c=e(4554),o=e(3239),u=e(2791),i=e(1591),s=e(184),l=(0,u.memo)((function(){return(0,s.jsx)(c.Z,{sx:(0,a.Z)({},i.VS),children:(0,s.jsx)(o.Z,{color:"success",thickness:5,size:100})})}))},661:function(n,r,e){e.d(r,{Qr:function(){return y},z4:function(){return g},nK:function(){return d},dK:function(){return x},UD:function(){return h}});var t=e(4165),a=e(3433),c=e(5861),o=e(9439),u=e(4569),i=e.n(u),s=e(2791),l=e(9714),f=e(3110),d=function(){var n=(0,s.useState)(null),r=(0,o.Z)(n,2),e=r[0],u=r[1],d=(0,s.useState)(!1),p=(0,o.Z)(d,2),y=p[0],v=p[1],b=(0,s.useState)(!0),g=(0,o.Z)(b,2),k=g[0],w=g[1],m=h(),x=[],C=(0,s.useCallback)((function(){v(!0),m.error("No data fetched at all for given endpoints")}),[]),Z=function(){w(!1),x.length?u(x):C()},S=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(r,e){var c,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.length?(c=r.shift(),o=(0,a.Z)(r),i().get(c,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"}).then((function(n){if(n.hasOwnProperty("data"))n.data.hasOwnProperty(e)?x.push(n.data[e]):x.push(l.W.na),o.length?S(o,e):Z();else{w(!1);var r=c||"unknown location";m.warning("Data for ".concat(r," was broken, corrupted or otherwise invalid"))}})).catch((function(n){var r=n.response?n.response.status:n;m.warning("Error ".concat(r," encountered when fetching data for ").concat(c)),o.length?S(o,e):Z()}))):(v(!0),m.error("Empty array of URLs passed to useAxiosArray as argument"));case 1:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}();return{data:e,error:y,loading:k,fetchHistoricalPrices:function(n,r){S(f.pi.historical(n,r),r)}}},p=e(9244),h=function(){var n=(0,p.Ds)().enqueueSnackbar;return{info:function(r){n(r,{variant:"info"})},error:function(r){n(r,{variant:"error"})},success:function(r){n(r,{variant:"success"})},warning:function(r){n(r,{variant:"warning"})}}},y=function(){h();var n=(0,s.useRef)(!1);return n.current=!0,n.current},v=e(7689),b=e(3688),g=function(n){var r=n.currencyBase,e=n.currencyCrypto,t=(0,v.s0)(),a=(0,s.useContext)(b.P),c=a.setCurrencyBase,o=a.setCurrencyCrypto,u=!(!r||!e),i=u?"exchange rate for pair ".concat(e.label,":").concat(r):void 0;return{confirmChoice:(0,s.useCallback)((function(){c(r),o(e),i&&t(i,{state:{results:i}})}),[i]),isEnabled:u}},k=e(9478),w=e(1933),m=function(n){var r=n.data.Data,e=[];for(var t in r)r.hasOwnProperty(t)&&e.push({value:t,label:r[t].CoinName,image:r[t].ImageUrl,description:r[t].Description});return e},x=function(){var n=h(),r=(0,w.useQuery)([URL],(function(){return i()(k.v2.get("all"))}),{staleTime:3e5,cacheTime:3e5,select:function(n){return m(n)}}),e=r.isLoading,t=r.error,a=r.data;return(0,s.useEffect)((function(){t&&n.error("B\u0142\u0105d pobierania listy kryptowalut")}),[t]),{isLoading:e,data:a}}},4473:function(n,r,e){e.r(r),e.d(r,{default:function(){return k}});var t=e(4165),a=e(5861),c=e(9439),o=e(2791),u=e(4569),i=e.n(u),s=e(7689),l=e(1933),f=e(661),d=e(9258),p=e(3110),h=e(9478),y=e(3688),v=e(184),b=o.lazy((function(){return Promise.all([e.e(302),e.e(719),e.e(239)]).then(e.bind(e,6239))})),g=o.lazy((function(){return e.e(200).then(e.bind(e,200))})),k=function(){var n=(0,s.s0)(),r=(0,f.UD)(),e=o.useContext(y.P),u=e.currencyBase,k=e.currencyCrypto,w=h.Ed,m=p.pi.current(k.value,u),x=o.useState(null),C=(0,c.Z)(x,2),Z=C[0],S=C[1],E=(0,l.useQuery)("currentCrypto",(0,a.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,p.l4)(w)&&N(k,u),n.next=3,i().get(m,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"});case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)}))),{refetchInterval:w}),P=E.data,j=E.error,B=(0,f.nK)(),D=B.data,N=B.fetchHistoricalPrices,z=o.useCallback((function(){n("/")}),[]);return o.useEffect((function(){N(k,u)}),[]),o.useEffect((function(){if(P&&D){var n=P[u];"number"===typeof n?r.success("Zmiana"):r.info("Na serwerze nie ma danych o bie\u017c\u0105cym kursie kryptowaluty");var e=(0,p.DK)({cryptoPrice:n,historicalCryptoPrice:D,currencyBase:u});JSON.stringify(Z)!==JSON.stringify(e)&&S(e)}}),[P,D]),(0,v.jsxs)(v.Fragment,{children:[(j||!Z)&&(0,v.jsx)(o.Suspense,{fallback:null,children:(0,v.jsx)(g,{crypto:k.label,result:Boolean(Z),error:j})}),(0,v.jsx)(d.El,{label:"Powr\xf3t do wyboru",clickHandler:z}),Z&&(0,v.jsx)(o.Suspense,{fallback:null,children:(0,v.jsx)(b,{currencyCrypto:k,results:Z})})]})}},1591:function(n,r,e){e.d(r,{VS:function(){return a},ap:function(){return c}});var t="#EE760A",a={margin:"0 auto",display:"flex",flexDirection:"column",height:"100vh",alignItems:"center",background:"transparent",paddingTop:"10vh",justifyContent:"center"},c={backgroundColor:"#F5C200",border:"1px solid ".concat(t),boxShadow:"inset 0 0 5px ".concat(t),color:"rgba(0, 0, 0, 0.87)",fontSize:11}}}]);
//# sourceMappingURL=473.17c3f359.chunk.js.map