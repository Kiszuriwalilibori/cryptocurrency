"use strict";(self.webpackChunkcryptocurrency_tracker=self.webpackChunkcryptocurrency_tracker||[]).push([[473],{6628:function(r,n,e){e.d(n,{Z:function(){return a}});var t=e(184),a=function(r){var n=r.classes,e=void 0===n?"enabled":n,a=r.isEnabled,o=void 0===a||a,c=r.clickHandler,i=void 0===c?function(){}:c,u=r.label,s=void 0===u?"":u;return(0,t.jsx)("button",{className:"".concat("BlueButton"," ").concat(e),onClick:i,disabled:!o,children:s})}},1605:function(r,n,e){var t=e(3239),a=e(2791),o=e(9980),c=e(184),i=(0,a.memo)((function(){return(0,c.jsx)(o.zL,{children:(0,c.jsx)(t.Z,{color:"info",thickness:5,size:100})})}));n.Z=i},9172:function(r,n,e){e.d(n,{El:function(){return t.Z},aN:function(){return a.Z}});e(9703),e(9437);var t=e(6628),a=e(1605)},661:function(r,n,e){e.d(n,{Qr:function(){return b},z4:function(){return y},nK:function(){return p},dK:function(){return k},UD:function(){return h}});var t=e(4165),a=e(3433),o=e(5861),c=e(9439),i=e(4569),u=e.n(i),s=e(2791),l=e(9714),f=e(3110),p=function(){var r=(0,s.useState)(null),n=(0,c.Z)(r,2),e=n[0],i=n[1],p=(0,s.useState)(!1),d=(0,c.Z)(p,2),b=d[0],g=d[1],x=(0,s.useState)(!0),y=(0,c.Z)(x,2),m=y[0],v=y[1],w=h(),k=[],Z=(0,s.useCallback)((function(){g(!0),w.error("No data fetched at all for given endpoints")}),[]),C=function(){v(!1),k.length?i(k):Z()},j=function(){var r=(0,o.Z)((0,t.Z)().mark((function r(n,e){var o,c;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.length?(o=n.shift(),c=(0,a.Z)(n),u().get(o,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"}).then((function(r){if(r.hasOwnProperty("data"))r.data.hasOwnProperty(e)?k.push(r.data[e]):k.push(l.W.na),c.length?j(c,e):C();else{v(!1);var n=o||"unknown location";w.warning("Data for ".concat(n," was broken, corrupted or otherwise invalid"))}})).catch((function(r){var n=r.response?r.response.status:r;w.warning("Error ".concat(n," encountered when fetching data for ").concat(o)),c.length?j(c,e):C()}))):(g(!0),w.error("Empty array of URLs passed to useAxiosArray as argument"));case 1:case"end":return r.stop()}}),r)})));return function(n,e){return r.apply(this,arguments)}}();return{data:e,error:b,loading:m,fetchHistoricalPrices:function(r,n){j(f.pi.historical(r,n),n)}}},d=e(9244),h=function(){var r=(0,d.Ds)().enqueueSnackbar;return{info:function(n){r(n,{variant:"info"})},error:function(n){r(n,{variant:"error"})},success:function(n){r(n,{variant:"success"})},warning:function(n){r(n,{variant:"warning"})}}},b=function(){h();var r=(0,s.useRef)(!1);return r.current=!0,r.current},g=e(7689),x=e(3688),y=function(r){var n=r.currencyBase,e=r.currencyCrypto,t=(0,g.s0)(),a=(0,s.useContext)(x.P),o=a.setCurrencyBase,c=a.setCurrencyCrypto,i=!(!n||!e),u=i?"exchange rate for pair ".concat(e.label,":").concat(n):void 0;return{confirmChoice:(0,s.useCallback)((function(){o(n),c(e),u&&t(u,{state:{results:u}})}),[u]),isEnabled:i}},m=e(9478),v=e(1933),w=function(r){var n=r.data.Data,e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({value:t,label:n[t].CoinName,image:n[t].ImageUrl,description:n[t].Description});return e},k=function(){var r=h(),n=(0,v.useQuery)([URL],(function(){return u()(m.v2.get("all"))}),{staleTime:3e5,cacheTime:3e5,select:function(r){return w(r)}}),e=n.isLoading,t=n.error,a=n.data;return(0,s.useEffect)((function(){t&&r.error("B\u0142\u0105d pobierania listy kryptowalut")}),[t]),{isLoading:e,data:a}}},4473:function(r,n,e){e.r(n),e.d(n,{default:function(){return m}});var t=e(4165),a=e(5861),o=e(9439),c=e(2791),i=e(4569),u=e.n(i),s=e(7689),l=e(1933),f=e(661),p=e(9172),d=e(3110),h=e(9478),b=e(3688),g=e(184),x=c.lazy((function(){return Promise.all([e.e(202),e.e(719),e.e(654)]).then(e.bind(e,3654))})),y=c.lazy((function(){return e.e(200).then(e.bind(e,200))})),m=function(){var r=(0,s.s0)(),n=(0,f.UD)(),e=c.useContext(b.P),i=e.currencyBase,m=e.currencyCrypto,v=h.Ed,w=d.pi.current(m.value,i),k=c.useState(null),Z=(0,o.Z)(k,2),C=Z[0],j=Z[1],P=(0,l.useQuery)("currentCrypto",(0,a.Z)((0,t.Z)().mark((function r(){var n;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,d.l4)(v)&&D(m,i),r.next=3,u().get(w,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"});case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}}),r)}))),{refetchInterval:v}),S=P.data,E=P.error,L=(0,f.nK)(),B=L.data,D=L.fetchHistoricalPrices,z=c.useCallback((function(){r("/")}),[]);return c.useEffect((function(){D(m,i)}),[]),c.useEffect((function(){if(S&&B){var r=S[i];"number"===typeof r?n.success("Zmiana"):n.info("Na serwerze nie ma danych o bie\u017c\u0105cym kursie kryptowaluty");var e=(0,d.DK)({cryptoPrice:r,historicalCryptoPrice:B,currencyBase:i});JSON.stringify(C)!==JSON.stringify(e)&&j(e)}}),[S,B]),(0,g.jsxs)(g.Fragment,{children:[(E||!C)&&(0,g.jsx)(c.Suspense,{fallback:null,children:(0,g.jsx)(y,{crypto:m.label,result:Boolean(C),error:E})}),C&&(0,g.jsx)(p.El,{label:"Powr\xf3t do wyboru",clickHandler:z}),C&&(0,g.jsx)(c.Suspense,{fallback:null,children:(0,g.jsx)(x,{currencyCrypto:m,results:C})})]})}},9980:function(r,n,e){e.d(n,{De:function(){return i},dk:function(){return l},tf:function(){return u},z0:function(){return s},zL:function(){return f}});var t=e(1417),a=e(3457),o=e(5291),c=e(4554),i=(0,a.Z)(o.Z)((function(r){var n=r.theme;return{textAlign:"center",color:n.palette.common.white,"&:focus":{color:n.palette.common.white},"&.Mui-focused":{color:n.palette.common.white}}})),u=(0,a.Z)(t.Z)((function(r){var n=r.theme;return{borderRadius:"2px",animation:"fade_in 0.1s ease-in-out forwards",border:"2px solid",borderColor:n.palette.secondary.main,padding:n.spacing(2.5),width:"300px",boxShadow:"inset 0 0 5px ".concat(n.palette.secondary.light,", 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"),backgroundColor:n.palette.secondary.light,color:n.palette.common.white,tabIndex:"0","&:hover":{borderColor:n.palette.primary.main},"& .MuiFormLabel-root":{color:"white",fontFamily:'"Lato", sans-serif',paddingBottom:n.spacing(.6)},"& .MuiFormGroup-root":{flexDirection:"row",justifyContent:"space-around"}}})),s=(0,a.Z)(c.Z)((function(r){var n=r.theme;return{width:"100%",paddingRight:n.spacing(2),paddingLeft:n.spacing(2),marginRight:"auto",marginLeft:"auto",marginTop:"30vh"}})),l=(0,a.Z)(c.Z)((function(r){var n=r.theme;return{backgroundColor:n.palette.primary.light,width:"300px",color:n.palette.common.white,borderRadius:1,padding:n.spacing(2),border:"2px solid",borderColor:n.palette.primary.dark,boxShadow:"inset 0 0 5px ".concat(n.palette.primary.dark,", 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)")}})),f=(0,a.Z)(c.Z)((function(r){r.theme;return{display:"flex",height:"100vh",width:"100vw",position:"fixed",top:"0",left:"0",alignItems:"center",background:"transparent",justifyContent:"center"}}))}}]);
//# sourceMappingURL=473.1e2b65d4.chunk.js.map