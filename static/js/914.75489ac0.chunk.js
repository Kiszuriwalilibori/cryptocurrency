"use strict";(self.webpackChunkcryptocurrency_tracker=self.webpackChunkcryptocurrency_tracker||[]).push([[914],{6913:(e,r,t)=>{t.d(r,{kt:()=>m,Qr:()=>u,z4:()=>h,y1:()=>C,zh:()=>j,nK:()=>l,dK:()=>g,UD:()=>i.Z});var a=t(4569),n=t.n(a),o=t(2791),c=t(9714),s=t(3110);const l=()=>{const[e,r]=(0,o.useState)(null),[t,a]=(0,o.useState)(!1),[l,,u]=m(!0),d=(0,i.Z)();let p=[];const h=(0,o.useCallback)((()=>{a(!0),d.error("No data fetched at all for given endpoints")}),[]),x=()=>{u(),p.length?r(p):h()},y=async(e,r)=>{if(e.length){let t=e.shift(),a=[...e];t&&n().get(t,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"}).then((e=>{if(e.hasOwnProperty("data"))e.data.hasOwnProperty(r)?p.push(e.data[r]):p.push(c.W.na),a.length?y(a,r):x();else{u();const e=t||"unknown crypto";d.warning("Data for ".concat(e," was broken, corrupted or otherwise invalid"))}})).catch((e=>{let n=e.response?e.response.status:e;d.warning("Error ".concat(n," encountered when fetching data for ").concat(t)),a.length?y(a,r):x()}))}else a(!0),d.error("Empty array of URLs passed to useAxiosArray as argument")};return{data:e,error:t,loading:l,fetchHistoricalPrices:(e,r)=>{y(s.pi.historical(e,r),r)}}};var i=t(6333);const u=()=>{(0,i.Z)();const e=(0,o.useRef)(!1);return e.current=!0,e.current};var d=t(7689),p=t(3688);const h=e=>{const{currencyBase:r,currencyCrypto:t}=e,a=(0,d.s0)(),{setCurrencyBase:n,setCurrencyCrypto:c}=(0,o.useContext)(p.P),s=!(!r||!t),l=s?"exchange rate for pair ".concat(t.label,":").concat(r):void 0;return{confirmChoice:(0,o.useCallback)((()=>{n(r),c(t),l&&a(l,{state:{results:l}})}),[l]),isEnabled:s}};var x=t(9478),y=t(1933);const b=e=>{const r=e.data.Data,t=[];for(let a in r)r.hasOwnProperty(a)&&t.push({value:a,label:r[a].CoinName,image:r[a].ImageUrl,description:r[a].Description});return t},g=()=>{const e=(0,i.Z)(),{isLoading:r,error:t,data:a}=(0,y.useQuery)([URL],(()=>n()(x._n.get("all"))),{staleTime:3e5,cacheTime:3e5,select:e=>b(e)});return(0,o.useEffect)((()=>{t&&e.error("B\u0142\u0105d pobierania listy kryptowalut")}),[t]),{isLoading:r,data:a}};const m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[r,t]=(0,o.useState)(e),a=(0,o.useCallback)((()=>{t(!1)}),[]),n=(0,o.useCallback)((()=>{t(!r)}),[r]);return[r,function(){t(!0)},a,n]};var f=t(8573),v=t.n(f);const C=function(e,r){return(0,o.useCallback)(v()((()=>{e(r)}),200),[e,r])},w=1e3,k=1e3,j=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;const[a,n]=(0,o.useState)(!1),c=(0,o.useRef)(void 0),s=(0,o.useRef)(void 0),l=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>(e&&(s.current=Date.now(),c.current=setTimeout((()=>{n(!0)}),r)),e||s.current&&(Date.now()>=s.current+r&&(l.current=setTimeout((()=>{c.current&&clearTimeout(c.current),n(!1)}),t-(Date.now()-(s.current+w)))),Date.now()<s.current+r&&(c.current&&clearTimeout(c.current),n(!1))),()=>{c.current&&clearTimeout(c.current),l.current&&clearTimeout(l.current)})),[e]),a}},7405:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var a=t(5527),n=t(627),o=t(2791),c=t(9168),s=t(184);const l=e=>{const{description:r}=e;return(0,s.jsx)(n.Z,{in:!0,timeout:1e3,children:(0,s.jsx)(a.Z,{elevation:1,children:(0,s.jsx)(c.dk,{children:r})})})},i=(0,o.memo)(l)},7914:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var a=t(2791),n=t(3767),o=t(5903),c=t(6913),s=t(5471),l=t(765),i=t(5523),u=t(9168),d=t(184);const p=e=>{const{currencyBase:r,setCurrencyBase:t}=e;return(0,d.jsxs)(u.tf,{children:[(0,d.jsx)(u.De,{children:" Waluta odniesienia"}),(0,d.jsxs)(l.Z,{"aria-label":"currency",name:"currency",value:r,onChange:e=>{t(e.target.value)},children:[(0,d.jsx)(i.Z,{value:"PLN",control:(0,d.jsx)(s.Z,{}),label:"PLN"}),(0,d.jsx)(i.Z,{value:"USD",control:(0,d.jsx)(s.Z,{}),label:"USD"}),(0,d.jsx)(i.Z,{value:"EUR",control:(0,d.jsx)(s.Z,{}),label:"EUR"})]})]})};var h=t(4065),x=t(4900);const y=e=>{const{currencyCrypto:r,setCurrencyCrypto:t}=e,{isLoading:n,data:o}=(0,c.dK)(),s=a.useMemo((()=>function(e){return e&&e.length?"":"inactivatedSelect"}(o)),[JSON.stringify(o)]),l=(0,c.zh)(n);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{className:s,children:(0,d.jsx)(h.Z,{value:r,className:"virtualized-select",placeholder:"Wybierz kryptowalut\u0119",onChange:e=>{t(e)},options:o})}),l&&(0,d.jsx)(x.Z,{})]})};t(7405);const b=(0,a.memo)((()=>(0,d.jsx)("header",{className:"logo",children:(0,d.jsx)("h1",{children:"CryptoCurrency Tracker"})}))),g=(0,a.lazy)((()=>Promise.resolve().then(t.bind(t,7405)))),m=()=>{const e=(0,c.Qr)(),[r,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(void 0),{confirmChoice:i,isEnabled:u}=(0,c.z4)({currencyBase:r,currencyCrypto:s}),h=(0,c.y1)(i,void 0);return e?(0,d.jsx)("main",{children:(0,d.jsxs)(n.Z,{spacing:2,sx:{alignItems:"center"},children:[(0,d.jsx)(b,{}),(0,d.jsx)(o.El,{classes:u?"enabled":"",isEnabled:u,clickHandler:h,label:"Poka\u017c kurs"}),(0,d.jsx)(p,{currencyBase:r,setCurrencyBase:t}),(0,d.jsx)(y,{currencyCrypto:s,setCurrencyCrypto:l,"aria-label":"Wybierz kryptowalut\u0119"}),(null===s||void 0===s?void 0:s.description)&&(0,d.jsx)(a.Suspense,{fallback:null,children:(0,d.jsx)(g,{description:s.description})})]})}):null}},9168:(e,r,t)=>{t.d(r,{tf:()=>o,dk:()=>s,De:()=>i});var a=t(1417),n=t(3457);const o=(0,n.Z)(a.Z)((e=>{let{theme:r}=e;return{borderRadius:"2px",animation:"fade_in 0.1s ease-in-out forwards",border:"2px solid",borderColor:r.palette.secondary.main,padding:r.spacing(2.5),width:"300px",boxShadow:"inset 0 0 5px ".concat(r.palette.secondary.light,", 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"),backgroundColor:r.palette.secondary.light,color:r.palette.common.white,tabIndex:"0","&:hover":{borderColor:r.palette.primary.main},"& .MuiFormLabel-root":{color:"white",fontFamily:'"Lato", sans-serif',paddingBottom:r.spacing(.6)},"& .MuiFormGroup-root":{flexDirection:"row",justifyContent:"space-around"}}}));var c=t(4554);const s=(0,n.Z)(c.Z)((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,width:"300px",color:r.palette.common.white,borderRadius:1,padding:r.spacing(2),border:"2px solid",borderColor:r.palette.primary.dark,boxShadow:"inset 0 0 5px ".concat(r.palette.primary.dark,", 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)")}}));var l=t(5291);const i=(0,n.Z)(l.Z)((e=>{let{theme:r}=e;return{textAlign:"center",color:r.palette.common.white,"&:focus":{color:r.palette.common.white},"&.Mui-focused":{color:r.palette.common.white}}}))}}]);
//# sourceMappingURL=914.75489ac0.chunk.js.map