"use strict";(self.webpackChunkcryptocurrency_tracker=self.webpackChunkcryptocurrency_tracker||[]).push([[473],{6415:function(e,r,n){n.d(r,{Qr:function(){return p},z4:function(){return m},nK:function(){return f},dK:function(){return b},UD:function(){return h.Z}});var t=n(4165),a=n(3433),c=n(5861),i=n(9439),s=n(4569),o=n.n(s),u=n(2791),l=n(9714),d=n(3110),f=function(){var e=(0,u.useState)(null),r=(0,i.Z)(e,2),n=r[0],s=r[1],f=(0,u.useState)(!1),p=(0,i.Z)(f,2),y=p[0],v=p[1],m=(0,u.useState)(!0),x=(0,i.Z)(m,2),g=x[0],j=x[1],b=(0,h.Z)(),k=[],w=(0,u.useCallback)((function(){v(!0),b.error("No data fetched at all for given endpoints")}),[]),Z=function(){j(!1),k.length?s(k):w()},C=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(r,n){var c,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.length?(c=r.shift(),i=(0,a.Z)(r),o().get(c,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"}).then((function(e){if(e.hasOwnProperty("data"))e.data.hasOwnProperty(n)?k.push(e.data[n]):k.push(l.W.na),i.length?C(i,n):Z();else{j(!1);var r=c||"unknown location";b.warning("Data for ".concat(r," was broken, corrupted or otherwise invalid"))}})).catch((function(e){var r=e.response?e.response.status:e;b.warning("Error ".concat(r," encountered when fetching data for ").concat(c)),i.length?C(i,n):Z()}))):(v(!0),b.error("Empty array of URLs passed to useAxiosArray as argument"));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}();return{data:n,error:y,loading:g,fetchHistoricalPrices:function(e,r){C(d.pi.historical(e,r),r)}}},h=n(6333),p=function(){(0,h.Z)();var e=(0,u.useRef)(!1);return e.current=!0,e.current},y=n(7689),v=n(3688),m=function(e){var r=e.currencyBase,n=e.currencyCrypto,t=(0,y.s0)(),a=(0,u.useContext)(v.P),c=a.setCurrencyBase,i=a.setCurrencyCrypto,s=!(!r||!n),o=s?"exchange rate for pair ".concat(n.label,":").concat(r):void 0;return{confirmChoice:(0,u.useCallback)((function(){c(r),i(n),o&&t(o,{state:{results:o}})}),[o]),isEnabled:s}},x=n(9478),g=n(1933),j=function(e){var r=e.data.Data,n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({value:t,label:r[t].CoinName,image:r[t].ImageUrl,description:r[t].Description});return n},b=function(){var e=(0,h.Z)(),r=(0,g.useQuery)([URL],(function(){return o()(x.v2.get("all"))}),{staleTime:3e5,cacheTime:3e5,select:function(e){return j(e)}}),n=r.isLoading,t=r.error,a=r.data;return(0,u.useEffect)((function(){t&&e.error("B\u0142\u0105d pobierania listy kryptowalut")}),[t]),{isLoading:n,data:a}}},8819:function(e,r,n){n.r(r);var t=n(6415),a=n(1644),c=n(184);r.default=function(e){var r=e.result,n=e.error,i=e.crypto,s=(0,t.UD)();return n&&s.error("Podczas pobierania danych bie\u017c\u0105cych dla ".concat(i," wyst\u0105pi\u0142 b\u0142\u0105d ")),r?null:(0,c.jsx)(a.aN,{})}},6499:function(e,r,n){n.r(r),n.d(r,{default:function(){return i}});var t=n(3208),a=n(6251),c=n(184),i=function(e){var r=e.currencyCrypto,n=e.results;return(0,c.jsx)(a.z0,{children:(0,c.jsx)(t.Z,{in:!0,timeout:1e3,children:(0,c.jsxs)("section",{className:"DataContainer","aria-label":"query data",children:[(0,c.jsx)(a.Hc,{name:r.label}),r.image&&(0,c.jsx)(a.TR,{URL:r.image}),(0,c.jsxs)("div",{className:"PricesWithButtons",children:[n.currentPrice&&(0,c.jsx)(a.Wc,{currentPrice:n.currentPrice}),n.changes&&(0,c.jsx)(a.Jk,{changesArray:n.changes}),(0,c.jsx)(a.Rr,{})]})]})})})}},6251:function(e,r,n){n.d(r,{Jk:function(){return m},z0:function(){return j},Wc:function(){return c},Hc:function(){return s},Rr:function(){return f},TR:function(){return p},pA:function(){return k}});n(8819);var t=n(890),a=n(184),c=function(e){var r=e.currentPrice;return(0,a.jsxs)("div",{className:"cell",children:[(0,a.jsx)(t.Z,{variant:"purpleText",children:Object.values(r)[0]}),(0,a.jsx)(t.Z,{variant:"greyText",children:Object.keys(r)[0]})]})},i=n(2791),s=(0,i.memo)((function(e){var r=e.name;return(0,a.jsxs)("div",{className:"GeneralInformation",children:[(0,a.jsx)("div",{className:"title",children:r}),(0,a.jsx)("div",{className:"foundation",children:"".concat(r," foundation")}),(0,a.jsx)("div",{className:"altcoins",children:"Altcoins - hightest growth"})]})})),o=n(6151),u=n(2150),l={backgroundColor:"#F5C200",border:'1px solid "#EE760A"',boxShadow:'inset 0 0 5px "#EE760A"',color:"rgba(0, 0, 0, 0.87)",fontSize:11},d=function(){return(0,a.jsx)("div",{className:"cell",children:(0,a.jsx)("div",{className:"InvestWrapper",children:(0,a.jsx)(u.Z,{componentsProps:{tooltip:{sx:l}},title:"Ta funkcjonalno\u015b\u0107 nie jest jeszcze zaimplementowana",placement:"top-start",children:(0,a.jsx)(o.Z,{variant:"contained",color:"error",size:"small",children:"Inwestuj"})})})})},f=(0,i.memo)(d),h=n(9478),p=function(e){var r=e.URL,n=h.v2.get("general")+r+"?width=30";return(0,a.jsx)("img",{className:"logo",src:n,alt:"Logo"})},y=(n(6499),n(6666)),v=n.n(y),m=function(e){var r=e.changesArray;return(0,a.jsx)(a.Fragment,{children:r.map((function(e){return(0,a.jsxs)("div",{className:"cell",children:[(0,a.jsx)(t.Z,{variant:"purpleText",children:Object.values(e)[0]},v()()),(0,a.jsx)(t.Z,{variant:"greyText",children:Object.keys(e)[0]},v()())]},v()())}))})},x=n(3457),g=n(4554),j=(0,x.Z)(g.Z)((function(e){var r=e.theme;return{width:"100%",paddingRight:r.spacing(2),paddingLeft:r.spacing(2),marginRight:"auto",marginLeft:"auto",marginTop:"30vh"}})),b=function(e){var r=e.text;return(0,a.jsx)("h1",{role:"banner",className:"sr-only",children:r})},k=i.memo(b)},4473:function(e,r,n){n.r(r),n.d(r,{default:function(){return j}});var t=n(4165),a=n(5861),c=n(9439),i=n(2791),s=n(4569),o=n.n(s),u=n(7689),l=n(1933),d=n(6415),f=n(1644),h=n(3110),p=n(9478),y=n(3688),v=n(6251),m=n(184),x=i.lazy((function(){return Promise.resolve().then(n.bind(n,6499))})),g=i.lazy((function(){return Promise.resolve().then(n.bind(n,8819))})),j=function(){var e=(0,u.s0)(),r=(0,d.UD)(),n=i.useContext(y.P),s=n.currencyBase,j=n.currencyCrypto,b=p.Ed,k=h.pi.current(j.value,s),w=i.useState(null),Z=(0,c.Z)(w,2),C=Z[0],P=Z[1],N=(0,l.useQuery)("currentCrypto",(0,a.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,h.l4)(b)&&S(j,s),e.next=3,o().get(k,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),{refetchInterval:b}),z=N.data,E=N.error,R=(0,d.nK)(),A=R.data,S=R.fetchHistoricalPrices,T=i.useCallback((function(){e("/")}),[]);return i.useEffect((function(){S(j,s)}),[]),i.useEffect((function(){if(z&&A){var e=z[s];"number"===typeof e?r.success("Zmiana"):r.info("Na serwerze nie ma danych o bie\u017c\u0105cym kursie kryptowaluty");var n=(0,h.DK)({cryptoPrice:e,historicalCryptoPrice:A,currencyBase:s});JSON.stringify(C)!==JSON.stringify(n)&&P(n)}}),[z,A]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v.pA,{text:"Results of query"}),(0,m.jsxs)("main",{children:[(E||!C)&&(0,m.jsx)(i.Suspense,{fallback:null,children:(0,m.jsx)(g,{crypto:j.label,result:Boolean(C),error:E})}),C&&(0,m.jsx)(f.El,{label:"Powr\xf3t do wyboru",clickHandler:T}),C&&(0,m.jsx)(i.Suspense,{fallback:null,children:(0,m.jsx)(x,{currencyCrypto:j,results:C})})]})]})}}}]);
//# sourceMappingURL=473.04f96469.chunk.js.map