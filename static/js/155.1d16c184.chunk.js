"use strict";(self.webpackChunkcryptocurrency_tracker=self.webpackChunkcryptocurrency_tracker||[]).push([[155],{6415:function(e,r,n){n.d(r,{Qr:function(){return p},z4:function(){return x},nK:function(){return f},dK:function(){return b},UD:function(){return h.Z}});var t=n(4165),a=n(3433),c=n(5861),s=n(9439),u=n(4569),i=n.n(u),o=n(2791),l=n(9714),d=n(3110),f=function(){var e=(0,o.useState)(null),r=(0,s.Z)(e,2),n=r[0],u=r[1],f=(0,o.useState)(!1),p=(0,s.Z)(f,2),y=p[0],v=p[1],x=(0,o.useState)(!0),j=(0,s.Z)(x,2),Z=j[0],g=j[1],b=(0,h.Z)(),C=[],k=(0,o.useCallback)((function(){v(!0),b.error("No data fetched at all for given endpoints")}),[]),m=function(){g(!1),C.length?u(C):k()},w=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(r,n){var c,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.length?(c=r.shift(),s=(0,a.Z)(r),i().get(c,{Apikey:"feca5a4838bd3042b5340fb60de7c44aadd2d20a178514c44947c3736be3558e"}).then((function(e){if(e.hasOwnProperty("data"))e.data.hasOwnProperty(n)?C.push(e.data[n]):C.push(l.W.na),s.length?w(s,n):m();else{g(!1);var r=c||"unknown location";b.warning("Data for ".concat(r," was broken, corrupted or otherwise invalid"))}})).catch((function(e){var r=e.response?e.response.status:e;b.warning("Error ".concat(r," encountered when fetching data for ").concat(c)),s.length?w(s,n):m()}))):(v(!0),b.error("Empty array of URLs passed to useAxiosArray as argument"));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}();return{data:n,error:y,loading:Z,fetchHistoricalPrices:function(e,r){w(d.pi.historical(e,r),r)}}},h=n(6333),p=function(){(0,h.Z)();var e=(0,o.useRef)(!1);return e.current=!0,e.current},y=n(7689),v=n(3688),x=function(e){var r=e.currencyBase,n=e.currencyCrypto,t=(0,y.s0)(),a=(0,o.useContext)(v.P),c=a.setCurrencyBase,s=a.setCurrencyCrypto,u=!(!r||!n),i=u?"exchange rate for pair ".concat(n.label,":").concat(r):void 0;return{confirmChoice:(0,o.useCallback)((function(){c(r),s(n),i&&t(i,{state:{results:i}})}),[i]),isEnabled:u}},j=n(9478),Z=n(1933),g=function(e){var r=e.data.Data,n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({value:t,label:r[t].CoinName,image:r[t].ImageUrl,description:r[t].Description});return n},b=function(){var e=(0,h.Z)(),r=(0,Z.useQuery)([URL],(function(){return i()(j.v2.get("all"))}),{staleTime:3e5,cacheTime:3e5,select:function(e){return g(e)}}),n=r.isLoading,t=r.error,a=r.data;return(0,o.useEffect)((function(){t&&e.error("B\u0142\u0105d pobierania listy kryptowalut")}),[t]),{isLoading:n,data:a}}},7405:function(e,r,n){n.r(r);n(2791);var t=n(5527),a=n(627),c=n(6742),s=n(184);r.default=function(e){var r=e.description;return(0,s.jsx)(a.Z,{in:!0,timeout:1e3,children:(0,s.jsx)(t.Z,{elevation:1,children:(0,s.jsx)(c.dk,{children:r})})})}},9155:function(e,r,n){n.r(r),n.d(r,{default:function(){return b}});var t=n(9439),a=n(2791),c=n(3767),s=n(4065),u=n(6415),i=n(4765),o=n(184),l=function(e){var r=e.currencyCrypto,n=e.setCurrencyCrypto,t=(0,u.dK)(),a=t.isLoading,c=t.data,l=c&&c.length?"":"inactivatedSelect";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:l,children:(0,o.jsx)(s.Z,{value:r,className:"virtualized-select",placeholder:"Wybierz kryptowalut\u0119",onChange:function(e){n(e)},options:c})}),a&&(0,o.jsx)(i.Z,{})]})},d=(n(7405),n(5471)),f=n(765),h=n(5523),p=n(6742),y=function(e){var r=e.currencyBase,n=e.setCurrencyBase;return(0,o.jsxs)(p.tf,{children:[(0,o.jsx)(p.De,{children:" Waluta odniesienia"}),(0,o.jsxs)(f.Z,{"aria-label":"currency",name:"currency",value:r,onChange:function(e){n(e.target.value)},children:[(0,o.jsx)(h.Z,{value:"PLN",control:(0,o.jsx)(d.Z,{}),label:"PLN"}),(0,o.jsx)(h.Z,{value:"USD",control:(0,o.jsx)(d.Z,{}),label:"USD"}),(0,o.jsx)(h.Z,{value:"EUR",control:(0,o.jsx)(d.Z,{}),label:"EUR"})]})]})},v=(0,a.memo)((function(){return(0,o.jsx)("header",{className:"logo",children:(0,o.jsx)("h1",{children:"CryptoCurrency Tracker"})})})),x=n(1413);var j=function(e){return function(r){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{}),(0,o.jsx)(e,(0,x.Z)({},r))]})}},Z=n(6628),g=(0,a.lazy)((function(){return Promise.resolve().then(n.bind(n,7405))})),b=j((function(){var e=(0,u.Qr)(),r=(0,a.useState)(null),n=(0,t.Z)(r,2),s=n[0],i=n[1],d=(0,a.useState)(void 0),f=(0,t.Z)(d,2),h=f[0],p=f[1],v=(0,u.z4)({currencyBase:s,currencyCrypto:h}),x=v.confirmChoice,j=v.isEnabled;return e?(0,o.jsxs)(c.Z,{spacing:2,children:[(0,o.jsx)(Z.Z,{classes:j?"enabled":"",isEnabled:j,clickHandler:x,label:"Poka\u017c kurs"}),(0,o.jsx)(y,{currencyBase:s,setCurrencyBase:i}),(0,o.jsx)(l,{currencyCrypto:h,setCurrencyCrypto:p}),(null===h||void 0===h?void 0:h.description)&&(0,o.jsx)(a.Suspense,{fallback:null,children:(0,o.jsx)(g,{description:h.description})})]}):null}))}}]);
//# sourceMappingURL=155.1d16c184.chunk.js.map