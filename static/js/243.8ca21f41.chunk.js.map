{"version":3,"file":"static/js/243.8ca21f41.chunk.js","mappings":"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","sources":["components/Loader.tsx","components/BlueButton/BlueButton.tsx","hooks/useFetchHistoricalPrices.ts","resources/errorDictionary.ts","hooks/useMessage.ts","hooks/useCheckApiKey.ts","pages/SelectionPage/parts/BaseCurrencySelection/style.ts","pages/SelectionPage/parts/BaseCurrencySelection/BaseCurrencySelectForm.tsx","pages/SelectionPage/fetchListOfAllCryptos.tsx","pages/SelectionPage/parts/CryptoCurrencySelection/CryptoCurrencySelectForm.tsx","pages/SelectionPage/parts/ConfirmButton/ConfirmButton.tsx","pages/SelectionPage/parts/Logo/Logo.tsx","HOCs/withLogo.tsx","pages/SelectionPage/SelectionPage.tsx"],"sourcesContent":["import { memo } from \"react\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Progress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst Container = withStyles({\r\n  root: {\r\n    margin: \"0 auto\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100vh\",\r\n    alignItems: \"center\",\r\n    background: \"transparent\",\r\n    paddingTop: \"10vh\",\r\n  },\r\n})(Box);\r\n\r\nconst ContainerVerticallyCentered = withStyles({\r\n  root: {\r\n    justifyContent: \"center\",\r\n  },\r\n})(Container);\r\n\r\nexport const CircularProgress = withStyles({\r\n  root: {\r\n    color: \"rgba(122, 194, 33, 0.8);\",\r\n  },\r\n})(Progress);\r\n/**\r\n * creates memoised spinner that indicates loading state\r\n * @returns spinner component\r\n */\r\nconst Loader = memo(() => {\r\n  return (\r\n    <ContainerVerticallyCentered>\r\n      <CircularProgress thickness={5} size={100} />\r\n    </ContainerVerticallyCentered>\r\n  );\r\n});\r\n\r\nexport default Loader;\r\n","import \"./_BlueButton.scss\";\r\n\r\ninterface Props {\r\n  classes?: string;\r\n  isEnabled?: boolean;\r\n  clickHandler?: React.MouseEventHandler<HTMLButtonElement> | undefined;\r\n  label?: string;\r\n}\r\n\r\nconst BlueButton = (props: Props) => {\r\n  const { classes = \"enabled\", isEnabled = true, clickHandler = () => {}, label = \"\" } = props;\r\n  const baseClassName = \"BlueButton\";\r\n\r\n  return (\r\n    <button className={`${baseClassName} ${classes}`} onClick={clickHandler} disabled={!isEnabled}>\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BlueButton;\r\n","import axios from \"axios\";\r\n\r\nimport { useState, useCallback } from \"react\";\r\n\r\nimport { BaseCurrency, CurrencyCrypto, HistoricalPrices, NotAvailable } from \"types\";\r\nimport { CreateURL } from \"functions\";\r\nimport { useMessage } from \"hooks\";\r\n\r\nconst useFetchHistoricalPrices = () => {\r\n  const [data, setData] = useState<HistoricalPrices | null>(null);\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const showMessage = useMessage();\r\n\r\n  let historicalPrices: HistoricalPrices = [];\r\n\r\n  const fatalError = useCallback(() => {\r\n    setError(true);\r\n    showMessage.error(`No data fetched at all for given endpoints`);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const theEndOfRecursiveFetchLoopHandle = () => {\r\n    setLoading(false);\r\n\r\n    if (historicalPrices.length) {\r\n      setData(historicalPrices);\r\n    } else {\r\n      fatalError();\r\n    }\r\n  };\r\n\r\n  const fetchData = async (endpoints: string[], baseCurrency: BaseCurrency) => {\r\n    if (endpoints.length) {\r\n      let URL = endpoints.shift();\r\n      let reducedEndpoints = [...endpoints]; \r\n\r\n      axios\r\n        .get(URL as string, { Apikey: process.env.REACT_APP_API_KEY as string })\r\n        .then(data => {\r\n          if (data.hasOwnProperty(\"data\")) {\r\n            if (data.data.hasOwnProperty(baseCurrency)) {\r\n              historicalPrices.push(data.data[baseCurrency]);\r\n            } else {\r\n              historicalPrices.push(NotAvailable.na);\r\n            }\r\n\r\n            if (reducedEndpoints.length) {\r\n              fetchData(reducedEndpoints, baseCurrency);\r\n            } else {\r\n              theEndOfRecursiveFetchLoopHandle();\r\n            }\r\n          } else {\r\n            setLoading(false);\r\n            const label = URL ? URL : \"unknown location\";\r\n            showMessage.warning(`Data for ${label} was broken, corrupted or otherwise invalid`);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          let code = err.response ? err.response.status : err;\r\n          showMessage.warning(`Error ${code} encountered when fetching data for ${URL}`);\r\n          if (reducedEndpoints.length) {\r\n            fetchData(reducedEndpoints, baseCurrency);\r\n          } else {\r\n            theEndOfRecursiveFetchLoopHandle();\r\n          }\r\n        });\r\n    } else {\r\n      setError(true);\r\n      showMessage.error(`Empty array of URLs passed to useAxiosArray as argument`);\r\n    }\r\n  };\r\n  const fetchHistoricalPrices = (currencyCrypto: CurrencyCrypto, baseCurrency: BaseCurrency) => {\r\n    fetchData(CreateURL.historical(currencyCrypto, baseCurrency), baseCurrency);\r\n  };\r\n\r\n  return { data, error, loading, fetchHistoricalPrices };\r\n};\r\n\r\nexport default useFetchHistoricalPrices;\r\n","/**\r\n * Not in use. perhaps in the future\r\n */\r\n\r\nlet errorDictionary: { [key: string]: string } = {\r\n  404: \"Not found\",\r\n};\r\n\r\nerrorDictionary = new Proxy(errorDictionary, {\r\n  get(target, phrase: string) {\r\n    if (phrase in target) {\r\n      return target[phrase];\r\n    } else {\r\n      return phrase;\r\n    }\r\n  },\r\n});\r\n\r\nexport default errorDictionary;\r\n","import { useSnackbar } from \"notistack\";\r\n\r\nconst useMessage = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const showMessage = {\r\n    info: function (str: string) {\r\n      enqueueSnackbar(str, { variant: \"info\" });\r\n    },\r\n\r\n    error: function (str: string) {\r\n      enqueueSnackbar(str, { variant: \"error\" });\r\n    },\r\n\r\n    success: function (str: string) {\r\n      enqueueSnackbar(str, { variant: \"success\" });\r\n    },\r\n\r\n    warning: function (str: string) {\r\n      enqueueSnackbar(str, { variant: \"warning\" });\r\n    },\r\n  };\r\n\r\n  return showMessage;\r\n};\r\n\r\nexport default useMessage;\r\n","import { useRef } from \"react\";\r\nimport { useMessage } from \"hooks\";\r\n\r\nconst useCheckApiKey = () => {\r\n    const showMessage = useMessage();\r\n\r\n    const isAPIKeyAvailable = useRef(false);\r\n\r\n    if (!process.env.REACT_APP_API_KEY) {\r\n        showMessage.error(`No API key available for application`);\r\n    } else {\r\n        isAPIKeyAvailable.current = true;\r\n    }\r\n    return isAPIKeyAvailable.current;\r\n};\r\n\r\nexport default useCheckApiKey;\r\n","import { withStyles } from \"@material-ui/core/styles\";\r\nimport Form from \"@material-ui/core/FormControl\";\r\n\r\nexport const BaseCurrencySelectFormWrapper = withStyles({\r\n  root: {\r\n    borderRadius: \"2px\",\r\n    animation: \"fade_in 0.1s ease-in-out forwards\",\r\n    border: \"2px solid #1E1F26\",\r\n    padding: \"20px\",\r\n    width: \"300px\",\r\n    margin: \"2vh 0\",\r\n    boxShadow: \"inset 0 0 5px #1E1F26, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)\",\r\n    backgroundColor: \"#2C303A\",\r\n    color: \"white\",\r\n    tabindex: \"0\",\r\n    \"&:hover\": { border: \"2px solid #EE760A\" },\r\n    \"&:focus\": { border: \"2px solid red\" },\r\n    \"& .MuiFormLabel-root\": { color: \"white\", fontFamily: '\"Lato\", sans-serif', paddingBottom: \"5px\" },\r\n    \"& .MuiFormGroup-root\": { flexDirection: \"row\", justifyContent: \"space-around\" },\r\n    \"& .MuiRadio-colorSecondary.Mui-checked\": { color: \"#EE760A\" },\r\n    \"& legend\": { textAlign: \"center\" },\r\n  },\r\n})(Form);\r\n","import Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\n\r\nimport { BaseCurrencySelectFormWrapper } from \"./style\";\r\nimport { BaseCurrency } from \"types\";\r\n\r\ninterface BaseCurrencyChoiceType {\r\n  currencyBase: BaseCurrency | null;\r\n  setCurrencyBase: Function;\r\n}\r\n/**\r\n * Creates form which alows choise of base currency\r\n * @param currencyBase base currency\r\n * @param setCurrencyBase: function which sets chosen base currency\r\n * @returns form component with radiogroup\r\n */\r\n\r\nconst BaseCurrencySelectForm = (props: BaseCurrencyChoiceType): JSX.Element => {\r\n  const { currencyBase, setCurrencyBase } = props;\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCurrencyBase(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <BaseCurrencySelectFormWrapper>\r\n      <FormLabel component=\"legend\">Waluta odniesienia</FormLabel>\r\n      <RadioGroup aria-label=\"currency\" name=\"currency\" value={currencyBase} onChange={handleChange}>\r\n        <FormControlLabel value=\"PLN\" control={<Radio />} label=\"PLN\" />\r\n        <FormControlLabel value=\"USD\" control={<Radio />} label=\"USD\" />\r\n        <FormControlLabel value=\"EUR\" control={<Radio />} label=\"EUR\" />\r\n      </RadioGroup>\r\n    </BaseCurrencySelectFormWrapper>\r\n  );\r\n};\r\n\r\nexport default BaseCurrencySelectForm;\r\n","import { useRef, useEffect } from \"react\";\r\nimport { useLazyAxios } from \"use-axios-client\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { useMessage } from \"hooks\";\r\nimport { CircularProgress } from \"components/Loader\";\r\nimport { baseURL } from \"config\";\r\nimport { setListOfAllCryptos, getListOfCryptos } from \"../../reducer/cryptosListSlice\";\r\n\r\nconst FetchListOfAllCryptos = ({ children }: any) => {\r\n  const ref = useRef({\r\n    fetchingListActive: false,\r\n    listReceived: false,\r\n  });\r\n  const showMessage = useMessage();\r\n  const listOfAllCryptos = useSelector(getListOfCryptos, shallowEqual);\r\n  const dispatch = useDispatch();\r\n  const [getListOfAllAvailableCryptos, { data: dataFromCryptosAPI, error: listError, loading }] = useLazyAxios({\r\n    url: baseURL.get(\"all\"),\r\n  });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    listError && showMessage.error(`Błąd pobierania listy kryptowalut`);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [listError]);\r\n\r\n  useEffect(() => {\r\n    if (dataFromCryptosAPI && !ref.current.listReceived) {\r\n      dispatch(setListOfAllCryptos(dataFromCryptosAPI));\r\n      showMessage.success(`Pomyślnie pobrano listę dostępnych kryptowalut`);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dataFromCryptosAPI, ref.current.listReceived]);\r\n\r\n  if (!listOfAllCryptos && !ref.current.fetchingListActive) {\r\n    ref.current.fetchingListActive = true;\r\n    getListOfAllAvailableCryptos(); // triggers fetch list async action\r\n  }\r\n\r\n  if (listOfAllCryptos && !ref.current.listReceived) {\r\n    ref.current.listReceived = true;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {children}\r\n      {loading && <CircularProgress thickness={5} size={100} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FetchListOfAllCryptos;\r\n","import * as React from \"react\";\r\nimport VirtualizedSelect from \"react-virtualized-select\";\r\n\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { CurrencyCrypto } from \"types\";\r\n\r\nimport FetchListOfAllCryptos from \"pages/SelectionPage/fetchListOfAllCryptos\";\r\nimport \"./_CryptoCurrencySelectForm.scss\";\r\n\r\nimport { getListOfCryptos } from \"reducer/cryptosListSlice\";\r\ninterface Props {\r\n  setCurrencyCrypto: Function;\r\n  currencyCrypto: CurrencyCrypto | undefined;\r\n}\r\n/**\r\n * Creates form which alows choise of cryptocurrency\r\n * @param currencyCrypto base currency\r\n * @param setCurrencyCrypto function which sets chosen base currency\r\n * @returns form component with radiogroup or null if list of cryptos is not available\r\n */\r\nconst CryptoCurrencySelectForm: React.FC<Props> = props => {\r\n  const { currencyCrypto, setCurrencyCrypto } = props;\r\n  const cryptos = useSelector(getListOfCryptos, shallowEqual);\r\n  const style = cryptos && cryptos.length ? \"\" : \"inactivatedSelect\";\r\n\r\n  return (\r\n    <FetchListOfAllCryptos>\r\n      <label className={style}>\r\n        <VirtualizedSelect\r\n          value={currencyCrypto}\r\n          className=\"virtualized-select\"\r\n          placeholder=\"Wybierz kryptowalutę\"\r\n          onChange={selectValue => {\r\n            setCurrencyCrypto(selectValue);\r\n          }}\r\n          options={cryptos as any}\r\n        />\r\n      </label>\r\n    </FetchListOfAllCryptos>\r\n  );\r\n};\r\n\r\nexport default CryptoCurrencySelectForm;\r\n","import { useContext, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { BaseCurrency, CurrencyCrypto } from \"types\";\r\nimport { SelectedCurrenciesContext } from \"contexts/currenciesContext\";\r\nimport { BlueButton } from \"components\";\r\n\r\ninterface Props {\r\n  currencyBase: BaseCurrency;\r\n  currencyCrypto: CurrencyCrypto;\r\n}\r\n/**\r\n * Creates button which - when clicked - accepts chosesn currencies to context and switches to page wit results\r\n * @param props currency base: base currency, currencyCrypto: cryptocurrency\r\n * @returns button component\r\n */\r\nconst ConfirmButton = (props: Props): JSX.Element => {\r\n  const { currencyBase, currencyCrypto } = props;\r\n  const navigate = useNavigate();\r\n  const { setCurrencyBase, setCurrencyCrypto } = useContext(SelectedCurrenciesContext);\r\n  const isEnabled = currencyBase && currencyCrypto ? true : false;\r\n  const pathToResults = isEnabled ? `exchange rate for pair ${currencyCrypto.label}:${currencyBase}` : undefined;\r\n\r\n  const confirmChoice = useCallback(() => {\r\n    setCurrencyBase(currencyBase);\r\n    setCurrencyCrypto(currencyCrypto);\r\n    if (pathToResults) navigate(pathToResults, { state: { results: pathToResults } });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pathToResults]);\r\n\r\n  return <BlueButton classes={isEnabled ? \"enabled\" : \"\"} isEnabled={isEnabled} clickHandler={confirmChoice} label=\"Pokaż kurs\" />;\r\n};\r\n\r\nexport default ConfirmButton;\r\n","import { memo } from \"react\";\r\n\r\nimport \"./_logo.scss\";\r\n\r\nconst Logo = memo(() => (\r\n  <header className=\"logo\">\r\n    <h1>CryptoCurrency Tracker</h1>\r\n  </header>\r\n));\r\n\r\nexport default Logo;\r\n","import Logo from \"pages/SelectionPage/parts/Logo\";\r\n\r\nfunction withLogo<T>(Component: React.ComponentType<T>) {\r\n  return (props: React.PropsWithChildren<T>) => (\r\n    <>\r\n      <Logo />\r\n      <Component {...props} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withLogo;\r\n","import { lazy, useState, Suspense } from \"react\";\r\n\r\nimport BaseCurrencySelectForm from \"./parts/BaseCurrencySelection\";\r\nimport CryptoCurrencySelectForm from \"./parts/CryptoCurrencySelection\";\r\nimport CurrenciesSelectionConfirmButton from \"./parts/ConfirmButton\";\r\nimport withLogo from \"HOCs/withLogo\";\r\n\r\nimport { BaseCurrency, CurrencyCrypto } from \"types\";\r\nimport { useCheckApiKey } from \"hooks\";\r\n\r\nimport \"./_SelectionSection.scss\";\r\n\r\nconst Description = lazy(() => import(\"./parts/CryptoCurrencySelection/CryptoCurrencyDescription\"));\r\n\r\nconst SelectionPage = () => {\r\n    const isApiKeyAvailable = useCheckApiKey();\r\n\r\n    let [currencyBase, setCurrencyBase] = useState<BaseCurrency | null>(null);\r\n    let [currencyCrypto, setCurrencyCrypto] = useState<CurrencyCrypto | undefined>(undefined);\r\n\r\n    if (!isApiKeyAvailable) return null;\r\n    return (\r\n        <section className=\"SelectionSection\">\r\n            <CurrenciesSelectionConfirmButton\r\n                currencyBase={currencyBase as BaseCurrency}\r\n                currencyCrypto={currencyCrypto as CurrencyCrypto}\r\n            />\r\n            <BaseCurrencySelectForm currencyBase={currencyBase} setCurrencyBase={setCurrencyBase} />\r\n            <CryptoCurrencySelectForm currencyCrypto={currencyCrypto} setCurrencyCrypto={setCurrencyCrypto} />\r\n            {currencyCrypto?.description && (\r\n                <Suspense fallback={null}>\r\n                    <Description description={currencyCrypto.description} />\r\n                </Suspense>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default withLogo(SelectionPage);\r\n"],"names":["Container","withStyles","root","margin","display","flexDirection","height","alignItems","background","paddingTop","Box","ContainerVerticallyCentered","justifyContent","CircularProgress","color","Progress","Loader","memo","thickness","size","props","classes","isEnabled","clickHandler","label","className","onClick","disabled","useState","data","setData","error","setError","loading","setLoading","showMessage","useMessage","historicalPrices","fatalError","useCallback","theEndOfRecursiveFetchLoopHandle","length","fetchData","endpoints","baseCurrency","URL","shift","reducedEndpoints","axios","Apikey","process","then","hasOwnProperty","push","NotAvailable","warning","catch","err","code","response","status","fetchHistoricalPrices","currencyCrypto","CreateURL","errorDictionary","Proxy","get","target","phrase","enqueueSnackbar","useSnackbar","info","str","variant","success","isAPIKeyAvailable","useRef","current","BaseCurrencySelectFormWrapper","borderRadius","animation","border","padding","width","boxShadow","backgroundColor","tabindex","fontFamily","paddingBottom","textAlign","Form","currencyBase","setCurrencyBase","FormLabel","component","RadioGroup","name","value","onChange","event","FormControlLabel","control","Radio","children","ref","fetchingListActive","listReceived","listOfAllCryptos","useSelector","getListOfCryptos","shallowEqual","dispatch","useDispatch","useLazyAxios","url","baseURL","getListOfAllAvailableCryptos","dataFromCryptosAPI","listError","useEffect","setListOfAllCryptos","setCurrencyCrypto","cryptos","style","placeholder","selectValue","options","navigate","useNavigate","useContext","SelectedCurrenciesContext","pathToResults","undefined","confirmChoice","state","results","Component","Description","lazy","withLogo","isApiKeyAvailable","useCheckApiKey","description","Suspense","fallback"],"sourceRoot":""}